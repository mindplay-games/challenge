:root{
  --bg1:#070A1A;
  --bg2:#0B1026;

  --text:#EAF2FF;
  --muted: rgba(234,242,255,0.74);

  --cardA: rgba(255,255,255,0.08);
  --cardB: rgba(255,255,255,0.05);
  --border: rgba(255,255,255,0.14);

  --shadow: 0 18px 55px rgba(0,0,0,.40);

  --accent:#60a5fa;
  --accent2:#a78bfa;
  --good:#22c55e;
  --warn:#f59e0b;
  --bad:#ef4444;

  /* צבע פס קטגוריה (ברירת מחדל) */
  --group1: #60a5fa;
  --group2: #a78bfa;

  /* פסי כרטיסים */
  --c-explain:#60a5fa;
  --c-task:#f59e0b;
  --c-practice:#22c55e;
  --c-code:#a78bfa;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family: system-ui, "Rubik", Arial;

  background:
    radial-gradient(900px 520px at 15% 10%, rgba(96,165,250,.22), transparent 60%),
    radial-gradient(900px 520px at 85% 20%, rgba(167,139,250,.18), transparent 60%),
    radial-gradient(900px 520px at 40% 105%, rgba(34,197,94,.14), transparent 60%),
    linear-gradient(180deg, var(--bg1) 0%, var(--bg2) 55%, var(--bg1) 100%);

  color: var(--text);
}

/* Theme לפי group (אם תרצי בעתיד) */
body[data-group="basics"]{ --group1:#22c55e; --group2:#60a5fa; }
body[data-group="projects_y1"]{ --group1:#f97316; --group2:#a78bfa; }
body[data-group="projects_y2"]{ --group1:#60a5fa; --group2:#22c55e; }
body[data-group="grade3"], body[data-group="projects_y3"]{ --group1:#f43f5e; --group2:#06b6d4; }
body[data-group="mini_projects"]{ --group1:#f59e0b; --group2:#ec4899; }

.top{
  padding: 34px 16px 22px;
  border-bottom: 1px solid var(--border);
  text-align:center;
  backdrop-filter: blur(10px);
}

h1,h2,h3{margin:0 0 10px}

h1{
  font-size: clamp(28px, 4vw, 44px);
  letter-spacing: .2px;
  line-height:1.15;

  background: linear-gradient(90deg, var(--group1), var(--group2));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.sub{
  color: var(--muted);
  margin: 0;
  font-size: 16px;
  line-height:1.6;
}

.container{
  max-width: 1050px;
  margin: 0 auto;
  padding: 22px;
  display: grid;
  gap: 14px;
}

/* ===== Cards – מודרני ונקי ===== */
.card{
  position: relative;
  background: linear-gradient(180deg, var(--cardA), var(--cardB));
  border: 1px solid var(--border);
  border-radius: 20px;
  padding: 18px 18px 16px;
  box-shadow: var(--shadow);
}

.card::before{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: 20px;
  pointer-events:none;
  background: radial-gradient(900px 260px at 30% 0%, rgba(255,255,255,0.10), transparent 60%);
  opacity: .55;
}

.card > *{ position: relative; }

/* פס צבע עדין בצד ימין (RTL) */
.card--explain{ border-right: 4px solid rgba(96,165,250,.85); }
.card--task{ border-right: 4px solid rgba(245,158,11,.85); }
.card--practice{ border-right: 4px solid rgba(34,197,94,.85); }
.card--code{ border-right: 4px solid rgba(167,139,250,.85); }

/* טקסטים */
.text{color: var(--muted); line-height:1.75; font-size:15px}
.mini{color: var(--muted); font-size:13px}

.row{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  margin-top:12px;
}

/* ===== Badges – קטנים, לא צועקים ===== */
.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 8px 10px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.07);
  color: rgba(234,242,255,0.82);
  font-weight: 800;
  font-size: 12.5px;
}

/* ===== Buttons – נקי יותר ===== */
.btn{
  border:1px solid rgba(255,255,255,0.14);
  border-radius: 14px;
  padding: 11px 16px;
  font-weight: 900;
  cursor:pointer;
  color: white;
  background: linear-gradient(90deg, var(--group1), var(--group2));
  box-shadow: 0 14px 28px rgba(0,0,0,.22);
  transition: transform .12s ease, filter .12s ease;
}
.btn:hover{ filter: brightness(1.05); transform: translateY(-1px); }
.btn:active{ transform: translateY(0px); }

.btnGhost{
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.18);
  color: rgba(234,242,255,0.95);
  box-shadow: none;
}

.btnGreen{
  background: linear-gradient(90deg, #22c55e, #34d399);
}

/* ===== Link button ===== */
.link{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding: 10px 14px;
  border-radius: 14px;
  background: rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.16);
  color: rgba(234,242,255,0.95);
  text-decoration:none;
  font-weight:900;
  transition: transform .12s ease, filter .12s ease;
}
.link:hover{ transform: translateY(-1px); filter: brightness(1.05); }

/* ===== Tiles ===== */
.grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 14px;
}

.tile{
  border: 1px solid rgba(255,255,255,0.14);
  border-radius: 18px;
  padding: 16px;
  cursor:pointer;
  text-decoration:none;
  color: inherit;
  text-align: right;
  background: rgba(255,255,255,0.06);
  box-shadow: 0 14px 32px rgba(0,0,0,0.22);
  transition: transform .15s ease, border-color .15s ease, filter .15s ease;
  position: relative;
  overflow:hidden;
}

.tile:hover{
  transform: translateY(-3px);
  border-color: rgba(255,255,255,0.24);
  filter: brightness(1.05);
}

.tile .tag{
  color: rgba(234,242,255,0.80);
  font-size: 12px;
  font-weight: 900;
}

.tile .name{
  font-weight: 1000;
  font-size: 20px;
  margin-top: 6px;
}

.tile .desc{
  color: var(--muted);
  font-size: 14px;
  margin-top: 6px;
  line-height: 1.6;
}

/* קטגוריות – Tile מיוחד */
.catTile::before{
  content:"";
  position:absolute;
  inset:-2px;
  opacity:.9;
  filter: blur(18px);
  z-index:0;
  background:
    radial-gradient(520px 220px at 15% 10%, rgba(96,165,250,.35), transparent 60%),
    radial-gradient(520px 220px at 85% 90%, rgba(167,139,250,.30), transparent 60%);
}
.catTile > *{ position: relative; z-index: 1; }

.catTop{
  display:flex;
  gap:12px;
  align-items:center;
  margin-bottom: 10px;
}

.catIcon{
  width: 52px;
  height: 52px;
  border-radius: 16px;
  display:grid;
  place-items:center;
  font-size: 28px;
  background: rgba(255,255,255,0.10);
  border: 1px solid rgba(255,255,255,0.14);
}

/* ===== Code area ===== */
.editor{
  width:100%;
  min-height: 190px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.16);
  background: rgba(255,255,255,0.07);
  color: var(--text);
  padding: 12px;

  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  font-size: 14px;

  direction: ltr;
  text-align: left;
  unicode-bidi: plaintext;
}

.output{
  background: rgba(255,255,255,0.07);
  border: 1px solid rgba(255,255,255,0.14);
  border-radius: 14px;
  padding: 12px;
  min-height: 70px;
  overflow:auto;

  color: var(--text);
  direction: ltr;
  text-align: left;
  unicode-bidi: plaintext;

  font-family: ui-monospace, Menlo, Consolas, monospace;
}

pre, code{
  direction: ltr;
  text-align: left;
  unicode-bidi: plaintext;
  font-family: ui-monospace, Menlo, Consolas, monospace;
}

code{
  background: rgba(255,255,255,0.10);
  padding: 2px 6px;
  border-radius: 8px;
}

.hint, .solution{
  margin-top: 10px;
  border: 1px dashed rgba(255,255,255,0.22);
  border-radius: 14px;
  padding: 12px;
  background: rgba(255,255,255,0.06);
  color: rgba(234,242,255,0.95);
}

.hidden{display:none}

/* Status */
.status{font-weight:900; min-height:22px;}
.status.good{color: #35ff8b;}
.status.bad{color: #ff6b6b;}

/* Run bar */
.runBar{
  margin-top: 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.runButtonsRow{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 10px;
  width: 100%;
}

.runLeft, .runRight{
  display:flex;
  align-items:center;
  gap: 10px;
  flex-wrap: wrap;
}

/* Drag & Drop (Order) */
.orderWrap{ display:grid; gap:10px; margin-top:10px; }

.orderItem{
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 14px;
  border-radius:14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.06);
  cursor: grab;
  user-select:none;
}
.orderItem:active{ cursor: grabbing; }

.orderGrip{
  width:34px;
  height:34px;
  border-radius:12px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(96,165,250,0.14);
  display:grid;
  place-items:center;
  font-weight:900;
}

.orderCode{
  flex:1;
  font-size: 14px;
  color: var(--text);
  direction:ltr;
  text-align:left;
  unicode-bidi: plaintext;
}

.orderItem.dragOver{
  outline:2px dashed rgba(96,165,250,.45);
  outline-offset:2px;
  background: rgba(96,165,250,.08);
}

.orderActions{
  display:flex;
  justify-content:flex-end;
  margin-top:12px;
  gap:10px;
}
